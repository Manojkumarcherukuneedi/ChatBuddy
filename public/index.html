<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ChatBuddy</title>

<style>
/* =========================================
   GLOBAL BACKGROUND
========================================= */
body {
  margin: 0;
  padding: 0;
  font-family: "Poppins", sans-serif;
  background: linear-gradient(135deg, #26D0CE, #1A2980);
  height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  transition: 0.3s;
}

body.dark {
  background: linear-gradient(135deg, #0f0f0f, #232323);
  color: white;
}

/* =========================================
   SIDEBAR MENU
========================================= */
.menu-btn {
  position: absolute;
  top: 25px;
  left: 25px;
  font-size: 30px;
  color: white;
  cursor: pointer;
  z-index: 999;
}

.side-menu {
  position: fixed;
  top: 0;
  left: -260px;
  width: 260px;
  height: 100%;
  background: linear-gradient(135deg, #26D0CE, #1A2980);
  color: white;
  box-shadow: 4px 0px 12px rgba(0,0,0,0.35);
  transition: 0.3s ease;
  padding-top: 60px;
  z-index: 1000;
}

.close-btn {
  position: absolute;
  top: 18px;
  right: 15px;
  font-size: 28px;
  cursor: pointer;
}

.menu-list li {
  padding: 20px;
  font-size: 18px;
  cursor: pointer;
  border-bottom: 1px solid rgba(255,255,255,0.25);
}

.menu-list li:hover {
  background: rgba(255,255,255,0.15);
}

.logout-item {
  color: #ff4b4b;
  font-weight: bold;
}

/* =========================================
   ACCOUNT DROPDOWN
========================================= */

#account-btn {
  position: absolute;
  top: 25px;
  right: 25px;
  cursor: pointer;
  z-index: 999;
}

#account-btn img {
  width: 42px;
  height: 42px;
  border-radius: 50%;
  border: 2px solid white;
}

#account-dropdown {
  position: absolute;
  top: 80px;
  right: 25px;
  width: 230px;
  background: rgba(255,255,255,0.95);
  border-radius: 12px;
  padding: 15px;
  display: none;
  box-shadow: 0px 5px 15px rgba(0,0,0,0.25);
  z-index: 999;
}

#account-dropdown.show {
  display: block;
}

/* =========================================
   CHAT UI (UNCHANGED)
========================================= */
.chat-container {
  width: 420px;
  background: rgba(255,255,255,0.18);
  backdrop-filter: blur(10px);
  padding: 30px;
  border-radius: 18px;
  box-shadow: 0 10px 25px rgba(0,0,0,0.25);
  text-align: center;
}

h1 {
  margin: 0;
  margin-bottom: 10px;
  font-size: 40px;
  color: white;
  cursor: pointer;
}

.toggle-dark {
  font-size: 14px;
  cursor: pointer;
  margin-bottom: 12px;
}

.chat-box {
  width: 100%;
  height: 260px;
  background: rgba(255,255,255,0.35);
  padding: 12px;
  border-radius: 12px;
  overflow-y: auto;
  margin-bottom: 15px;
}

input {
  width: 90%;
  padding: 12px;
  margin-bottom: 12px;
  border-radius: 12px;
  border: 2px solid black;
  font-size: 16px;
}

button {
  width: 90%;
  padding: 12px;
  margin-bottom: 10px;
  border: 2px solid black;
  border-radius: 12px;
  background: white;
  font-weight: bold;
  cursor: pointer;
  font-size: 17px;
}

/* =========================================
   MENU PAGE DESIGN
========================================= */
.page {
  position: absolute;
  top: 0;
  left: 0;
  width: 420px;
  height: 100%;
  background: #ffffff;
  padding: 25px;
  display: none;
  overflow-y: auto;
  border-radius: 18px;
}

.page h2 {
  text-align: center;
  font-size: 28px;
  margin-bottom: 25px;
}

/* Nice clean white sections */
.option-box {
  background: #f8f8f8;
  padding: 20px;
  border-radius: 14px;
  margin-bottom: 25px;
  border: 1px solid #eee;
}

.option-box h3 {
  margin-bottom: 12px;
  font-size: 20px;
}

/* Toggle Switch CSS */
.switch {
  position: relative;
  display: inline-block;
  width: 50px;
  height: 26px;
}
.switch input { display:none; }
.slider {
  position: absolute;
  cursor: pointer;
  background-color: #ccc;
  border-radius: 26px;
  top: 0; left: 0; right: 0; bottom: 0;
  transition: .4s;
}
.slider:before {
  content: "";
  position: absolute;
  height: 20px; width: 20px;
  left: 3px; bottom: 3px;
  background:white;
  border-radius:50%;
  transition: .4s;
}
input:checked + .slider {
  background-color: #21c4d3;
}
input:checked + .slider:before {
  transform: translateX(24px);
}
</style>
</head>

<body>

<!-- MENU BUTTON -->
<div class="menu-btn" onclick="openMenu()">â˜°</div>

<!-- ACCOUNT BUTTON -->
<div id="account-btn">
  <img src="https://cdn-icons-png.flaticon.com/512/456/456212.png" />
</div>

<!-- ACCOUNT DROPDOWN -->
<div id="account-dropdown">
  <p><strong>Username:</strong> <span id="acc-username">Loading...</span></p>
  <p><strong>Member since:</strong> <span id="acc-created">Loading...</span></p>
</div>

<!-- SIDEBAR -->
<div id="sideMenu" class="side-menu">
  <div class="close-btn" onclick="closeMenu()">âœ•</div>

  <ul class="menu-list">
    <li onclick="goHome()">Home</li>
    <li onclick="openSettings()">Settings</li>
    <li onclick="openPrivacy()">Privacy & Security</li>
    <li onclick="openNotifications()">Notifications</li>
    <li onclick="openAbout()">About</li>
    <li class="logout-item" onclick="logout()">Logout</li>
  </ul>
</div>

<div id="overlay" class="overlay" onclick="closeMenu()"></div>

<!-- CHAT UI -->
<div class="chat-container" id="chatContainer">
  <h1 onclick="goHome()">ChatBuddy</h1>
  <div class="toggle-dark" onclick="toggleDark()">ðŸŒ™ Toggle Dark Mode</div>

  <div class="chat-box" id="chatBox"></div>

  <input id="msgInput" placeholder="Type your message..." />
  <button onclick="sendMsg()">Send</button>
  <button onclick="motivate()">Motivate me</button>
  <button onclick="loadHistory()">Load History</button>
  <button class="danger-btn" onclick="deleteHistory()">Delete History</button>
</div>



<!-- SETTINGS PAGE -->
<div id="settingsPage" class="page">
  <h2>Chat Preferences</h2>

  <div class="section">
  <h3>Font Size</h3>

  <label><input type="radio" name="fontSize" value="small"> Small</label><br>
  <label><input type="radio" name="fontSize" value="medium"> Medium</label><br>
  <label><input type="radio" name="fontSize" value="large"> Large</label>
</div>

<div class="section">
  <h3>Theme Colors</h3>

  <label><input type="radio" name="theme" value="light"> Light</label><br>
  <label><input type="radio" name="theme" value="dark"> Dark</label>
</div>





<!-- â­â­â­ PRIVACY PAGE â­â­â­ -->
<div id="privacyPage" class="page">
  <h2>Privacy & Security</h2>

  <h3>Change Password</h3>

  <input type="password" placeholder="Old Password"
         style="width:100%; padding:12px; border-radius:10px; border:2px solid #0097a7; margin-bottom:12px;">
  <input type="password" placeholder="New Password"
         style="width:100%; padding:12px; border-radius:10px; border:2px solid #0097a7; margin-bottom:12px;">

  <button style="width:100%; background:#0097a7; color:white;">Change Password</button>

  <h3 style="margin-top:25px;">Manage Chats</h3>
  <button style="width:100%; background:#ff3b3b; color:white;">Delete All Chats</button>

  <button onclick="closePages()" style="margin-top:25px; width:100%;">Back to Home</button>
</div>



<!-- â­â­â­ NOTIFICATIONS PAGE â­â­â­ -->
<div id="notificationsPage" class="page">
  <h2>Notifications</h2>

  <div class="option-box" style="display:flex; justify-content:space-between; align-items:center;">
    <span style="font-size:18px;">Enable/Disable Notifications</span>

    <label class="switch">
      <input type="checkbox" checked>
      <span class="slider"></span>
    </label>
  </div>

  <button onclick="closePages()">Back</button>
</div>



<!-- â­â­â­ ABOUT PAGE â­â­â­ -->
<div id="aboutPage" class="page">
  <h2>About ChatBuddy</h2>

  <p><strong>Welcome to Chat Buddy!</strong><br>
  Your friendly digital companion designed to brighten your day, share positive vibes, and make conversations fun.</p>

  <p><strong>What Chat Buddy Offers:</strong><br>
  â€¢ Cheerful & supportive chats<br>
  â€¢ Fun interactions<br>
  â€¢ Motivational energy<br>
  â€¢ Relaxing & calming vibes</p>

  <p><strong>Why Chat Buddy?</strong><br>
  Sometimes all we need is someone who listens and encourages. Chat Buddy is always here for you!</p>

  <p><strong>Our Mission:</strong><br>
  To make technology feel like a friend, not just a tool.</p>

  <p><strong>Developed By:</strong><br>
  Ashwin Kumar Mandaloju<br>
  Manoj Kumar Cherukuneedi<br>
  Hemanth Cheeruka<br>
  Meet Saspaar<br>
  University of North Texas</p>

  <p style="text-align:center; margin-top:25px;">Version: 1.0.0</p>

  <button onclick="closePages()">Back</button>
</div>



<script src="/js/chat.js"></script>

<script>
// ACCOUNT DROPDOWN
document.getElementById("account-btn").onclick = () =>
  document.getElementById("account-dropdown").classList.toggle("show");

// LOAD PROFILE INTO DROPDOWN
fetch("/api/profile")
  .then(res => res.json())
  .then(data => {
    document.getElementById("acc-username").textContent = data.username;
    document.getElementById("acc-created").textContent =
      new Date(data.created_at).toDateString();
  });

// PAGE SWITCHING
function showPage(id) {
  closeMenu();
  document.getElementById("chatContainer").style.display = "none";
  document.querySelectorAll(".page").forEach(p => p.style.display = "none");
  document.getElementById(id).style.display = "block";
}

function closePages() {
  document.getElementById("chatContainer").style.display = "block";
  document.querySelectorAll(".page").forEach(p => p.style.display = "none");
}

// OPEN MENU PAGES
function openSettings() { showPage("settingsPage"); }
function openPrivacy() { showPage("privacyPage"); }
function openNotifications() { showPage("notificationsPage"); }
function openAbout() { showPage("aboutPage"); }

// SIDEBAR
function openMenu() {
  document.getElementById("sideMenu").style.left = "0px";
  document.getElementById("overlay").style.display = "block";
}

function closeMenu() {
  document.getElementById("sideMenu").style.left = "-260px";
  document.getElementById("overlay").style.display = "none";
}
</script>

</body>
</html>
